<!DOCTYPE html>
<html lang="en" style="--color-primary: #00A1F4">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Unlock a [Shore&#x2F;Mi]Tel Director - Wesley Deal</title>
<style>
*, *:before, *:after {box-sizing: border-box;}
:root {
  color-scheme: light dark;
}
body {
	font: 100%/1.6 sans-serif;
	margin: 0;
	width: 100%;
	overflow-wrap: break-word;
	scroll-margin-top: 20px;
	background: light-dark(oklch(from var(--color-primary, #056) 0.96 0.01 h), #000);
	color: light-dark(#000, #fff);
}
body>* {
	padding: 16px;
	max-width: 100%;
}
header nav, .content>*, footer>*, #toc>div, #search-container {
	max-width: 800px;
	margin-left: auto;
	margin-right: auto;
}
header,article,section,nav,footer { display: block }
header {
	background: #056;
	font-size: 110%;
	line-height: 1.8;
	display: block;
	background: oklch(from var(--color-primary, #056) 0.4 c h);
}
header a:link, header a:visited {
	color: #fff;
	white-space: nowrap;
	text-decoration-thickness: 2px;
	text-underline-offset: 33%;
}
.topnav-links {
	list-style: none;
	display: inline;
	padding: 0;
}
nav#topnav li{
	padding: 0;
	margin-right: 16px;
	display: inline;
}
#homelink {
	text-decoration-color: oklch(from var(--color-primary, #056) 0.8 c calc(h + 180));
	font-weight: 700;
}
#toc {
	background: #023;
	background: oklch(from var(--color-primary, #056) 0.2 c h);
	color: #fff;
	display: block;
}
#toc a:link, #toc a:visited {
	color: #fff;
}
.content {
	min-height: 100vh;
	transform-origin: 50vw 50vh;
}
ul, ol {padding-left: 24px}
h1 {
	font-size: xx-large;
	font-size: clamp(32px, 4vw, 60px);
	font-weight: 500;
	line-height: 1.1;
	color: color-mix(in oklch, var(--color-primary), light-dark(#000,#fff));
	margin: 32px auto 24px;
	text-shadow: 2px 2px 0 #7773;
}
h2 { margin: 20px auto 8px; font-size: 150%; font-weight: 400; }
h3 { margin: 16px auto 6px; font-size: 135%; font-weight: 400; }
h4 { margin: 14px auto 4px; font-size: 120%; }
h5 { margin: 12px auto   0; font-size: 120%; font-weight: 400; }
h6 { margin: 12px auto 4px; font-size: 100%; font-style: italic; }
h1 small {
	display: block;
	font-style: italic;
	font-size: 20px;
	padding-top: 10px;
	text-shadow: none;
}
body>footer,pre,code,samp {
	overflow: auto;
	font-family: ui-monospace, Consolas, monospace;
	line-height: 1.2;
}
body>footer {
	border-top: 2px solid;
	margin: 100px 0 800px;
}
.z-code {
	background: #0562;
	padding: 0.5em 0.7em;
	border: 1px solid;
}
#ui-tools {display: none;}
a:link, a:visited {
	color: #056;
	color: oklch(from var(--color-primary, #056) light-dark(0.4,0.95) light-dark(c, 0.05) h);
	text-decoration-color: oklch(from var(--color-primary, #056) 0.8 c h);
}
:is(h2,h3,h4,h5,h6) ~ :is(p,ul,ol) { margin-top: 0; }
img { max-width: 100%; }
table {border-collapse: collapse;}
th,td {border: 1px solid; padding: 5px;}
th {background-color: oklch(from var(--color-primary, #056) 0.5 c h / 30%);}
.zola-anchor {display: none; visibility: hidden;}
#search-container { padding: 20px; overflow: hidden; }
#search-box { width: 100%;}
#search-keyword-list samp { padding: 0 10px; }
[id] {
	scroll-margin-top: 100px;
}
footer hr{ display: none }

@view-transition { navigation: auto; }
::view-transition-group(root) { animation-duration: 0.3s }
</style>
<!--[if !IE]><!-->
<link rel="preload" href="/concourse.css" as="style" onload="this.onload=null; if (CSS.supports('selector(&)')) this.rel='stylesheet'">
<link rel="preload" href="/fonts/instrument-serif_5.2.5_latin-400-normal.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/instrument-serif_5.1.0_latin-400-italic.woff2" as="font" type="font/woff2" crossorigin>
<!--<![endif]-->
<body id="blog-shorelock">
<header>
	<nav id="topnav">
		<ul class="topnav-links">
			<li><a href="/" id="homelink">deal.digital</a>
			<li><a href="/tools/">ğŸ› ï¸ Tools</a>
			<li><a href="/blog/">ğŸ“ Notes</a>
			<li><a href="/now/">â³ Now</a>
			<li><a href="/links/">ğŸ”— Links</a>
			<li><a href="/uses/">âŒ¨ï¸ Uses</a>
			<li><a href="/resume/">ğŸ“„ Resume</a>
			<li><a href="#" id="search-link">ğŸ§­ Navigator</a></li>
		</ul>
	</nav>
</header>

<section class="content">
	<h1 class="title">
	Fix a locked Shoretel&#x2F;Mitel Director
	</h1>
<p>Letâ€™s say, for the sake of argument, that youâ€™re a very busy systems administrator. A while ago, something popped up on the top of your Shoretel management page. You noticed it when you were hastily onboarding a new employee:</p>
<blockquote>
<p>Due to license violation, access to Director will be locked in 38 days. Take proper action before the grace period has expired. Note that there are additional charges if you need to recover from a locked Director.</p>
</blockquote>
<p>You made a mental note and moved onto the next task.</p>
<p>6 weeks later, a ticket arrives requesting a voicemail PIN reset. You go into the director but find that youâ€™re now locked out entirely. How can you fix it?</p>
<h2 id="the-process"><a class="zola-anchor" href="#the-process" aria-label="Anchor link for: the-process">#</a>The Process</h2>
<p><strong>Beware</strong>: I cannot comment on the legal or technical ramifications of poking around in the running production database of your vendor software to bypass a license restriction.</p>
<ul>
<li>
<p>Remote in to your Shoretel server. If Shoretel is holding your server hostage on a very old version of Windows, you might need to disable CredSSP remediation on your box with</p>
<pre data-lang="cmd" class="language-cmd z-code"><code class="language-cmd" data-lang="cmd"><span class="z-source z-dosbatch"><span class="z-keyword z-command z-dosbatch">reg</span> add HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\System\CredSSP\Parameters /v AllowEncryptionOracle /t REG_DWORD /d <span class="z-constant z-numeric z-integer z-decimal z-dosbatch">2</span>
</span></code></pre>
</li>
<li>
<p>Install <a href="https://dev.mysql.com/downloads/workbench/">MySQL Workbench</a> on the server.</p>
</li>
<li>
<p>Add a connection with these details:</p>
<ul>
<li>
<p>Hostname: <code>localhost</code></p>
</li>
<li>
<p>Port: <code>4308</code></p>
</li>
<li>
<p>Username: <code>root</code></p>
</li>
</ul>
</li>
<li>
<p>Connect with the password <code>shorewaredba</code></p>
</li>
<li>
<p>Run this query:</p>
<pre data-lang="sql" class="language-sql z-code"><code class="language-sql" data-lang="sql"><span class="z-source z-sql"><span class="z-keyword z-other z-DML z-sql">select</span> UserDNID,UserDN,GuiLoginName,LicenseTypeID,ClientType <span class="z-keyword z-other z-DML z-sql">from</span> users <span class="z-keyword z-other z-DML z-sql">order by</span> licensetypeID
</span></code></pre>
</li>
<li>
<p>In the table that appears, edit the license type  numbers for LicenseTypeID and ClientType to reduce your license count. Refer to the locked director for which license youâ€™re over on. Refer to this table for the meaning of license type numbers.</p>
<table><thead><tr><th style="text-align: center">#</th><th style="text-align: center">LicenseTypeID</th><th style="text-align: center">ClientType</th></tr></thead><tbody>
<tr><td style="text-align: center">0</td><td style="text-align: center">?</td><td style="text-align: center">Phone Only</td></tr>
<tr><td style="text-align: center">1</td><td style="text-align: center">Mailbox Only</td><td style="text-align: center">Operator</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">Phone Only</td><td style="text-align: center">WG Supervisor</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">Phone &amp; Mailbox</td><td style="text-align: center">WG Agent</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">N/A</td><td style="text-align: center">?</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">N/A</td><td style="text-align: center">Shoretel Connect</td></tr>
</tbody></table>
</li>
<li>
<p>In the bottom right corner, click <strong>Apply</strong>, review the changes, and <strong>Apply</strong> again. Exit MySQL Workbench.</p>
</li>
<li>
<p>Restart the Shoretel-Director service (or, if preferred, the entire server).</p>
</li>
</ul>
<h2 id="by-the-way"><a class="zola-anchor" href="#by-the-way" aria-label="Anchor link for: by-the-way">#</a>By the wayâ€¦</h2>
<p>If youâ€™re still operating under the advice that you have to avoid Windows updates for Mitel Connect, you should consider <a href="https://www.shoretelforums.com/forum/shoretel-tech/installers/80664-windows-updates">changing your approach</a>.</p>

<section class="article-signoff">
<p class="created-at">written <time>2020-09-15</time>
<p class="updated-at">updated <time>2025-03-04</time>
</section>


</section>
<footer>
	<hr>
	<p>deal.digital v2025 (concourse) // UNDER ACTIVE DEVELOPMENT
	<p>No rights reserved, except by respective authors of imported and referenced materials. Swim at your own risk: this software and information are provided as-is with no warranty or guarantee, express or implied.
	<p>% show system-information
	<dl>
		<dt>Build</dt>
		<dd>2026-01-14 15:50:48 UTC with <a href="https://www.getzola.org/">Zola</a> on GitHub <a href="https://github.com/wesleydeal/deal.digital/actions">Actions</a>, hosted on GitHub Pages. <a href="https://github.com/wesleydeal/deal.digital/blob/master/content/blog&#x2F;shorelock.md">View source here</a>.</dd>

		<dt>Fonts</dt>
		<dd>Headings set in <a href="https://github.com/Instrument/instrument-serif">Instrument Serif</a>.</dd>

		<dt>Navigator</dt>
		<dd>Uses <a href="https://www.fusejs.io/">Fuse.js</a> for fuzzy search.</dd>
	</dl>
	<p>% tree deal.digital
	<p class="sitetree">
	<a href="/">deal.digital/</a>
	<br>â”œâ”€<a href="/archive/">archive/</a>
		<br>â”‚ â””â”€<a href="/archive/sdx1/">sdx1</a>
		<br>â”œâ”€<a href="/blog/">blog/</a>
		<br>â”‚ â”œâ”€<a href="/blog/design-principles/">design-principles</a>
		<br>â”‚ â”œâ”€<a href="/blog/librechat/">librechat</a>
		<br>â”‚ â”œâ”€<a href="/blog/shorelock/">shorelock</a>
		<br>â”‚ â”œâ”€<a href="/blog/smart-seagate/">smart-seagate</a>
		<br>â”‚ â””â”€<a href="/blog/wintricks/">wintricks</a>
		<br>â”œâ”€<a href="/tools/">tools/</a>
		<br>â”‚ â”œâ”€<a href="/tools/netlibram/">netlibram</a>
		<br>â”‚ â”œâ”€<a href="/tools/prune/">prune</a>
		<br>â”‚ â”œâ”€<a href="/tools/pwgen/">pwgen</a>
		<br>â”‚ â”œâ”€<a href="/tools/tpmiddle/">tpmiddle</a>
		<br>â”‚ â””â”€<a href="/tools/win11-hta/">win11-hta</a>
		<br>â”œâ”€<a href="/contact/">contact</a>
		<br>â”œâ”€<a href="/home/">home</a>
		<br>â”œâ”€<a href="/links/">links</a>
		<br>â”œâ”€<a href="/now/">now</a>
		<br>â”œâ”€<a href="/sample/">sample</a>
		<br>â”œâ”€<a href="/setup/">setup</a>
		<br>â”œâ”€<a href="/todo/">todo</a>
		<br>â””â”€<a href="/uses/">uses</a>
		<p>% show :3
	<pre class="ascii-art">
                      __,,,,_
       _ __..-;''`--/'/ /.',-`-.
   (`/' ` |  \ \ \\ / / / / .-'/`,_
  /'`\ \   |  \ | \| // // / -.,/_,'-,
 /&lt;7' ;  \ \  | ; ||/ /| | \/    |`-/,/-.,_,/')
/  _.-, `,-\,__|  _-| / \ \/|_/  |    '-/.;.\'
`-`  f/ ;      / __/ \__ `/ |__/ |
     `-'      |  -| =|\_  \  |-' |
           __/   /_..-' `  ),'  //
       fL ((__.-'((___..-'' \__.'

	</pre>
	<p><a href="https://youtu.be/2KVJ2vm_fyw?t=131" style="background: none; color: inherit; box-shadow: none">Ï€</a></p>
</footer>
<div id="ui-tools">
	<button id="btn_top" title="Jump to top">â¬†</button>
	<button id="btn_theme" title="Switch theme">ğŸ’¡</button>
	<button id="btn_larger" title="Enlarge text">T<b>â–²</b></button>
	<button id="btn_smaller" title="Reduce text">T<b>â–¼</b></button>
</div>
<script defer src="/main.js"></script>
</body>
</html>
